<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
   <link rel="stylesheet" type="text/css"
		href="../test1/javax.faces.resource/css/addUserRole.css" />	
		 <link rel="stylesheet" type="text/css"
		href="../test1/javax.faces.resource/css/form.css" />
		    	<link rel="stylesheet" type="text/css"
		href="../test1/javax.faces.resource/css/bootstrap/bootstrap-rtl.css"/>
</h:head>

<b:form>
<b:modal title="إضافة دور" styleClass="responsiveModalPseudoClass"
         id="responsiveModal">
         
         <b:dataTable value="#{sysRoleBean.getListSysRole()}" var="role" 
class="rolesTable">
    <b:dataTableColumn value="#{role.arabicName} /#{role.englishName}" label="الاسم"/>
    <b:dataTableColumn value="#{role.description}" label="الوصف"/>
    <b:dataTableColumn label="إضافة الدور">
      <b:commandButton value="" icon-awesome="glyphicon glyphicon-plus"
       onclick="" look="success"/>
    </b:dataTableColumn>
  </b:dataTable> 
  
  <f:facet name="footer">
    <b:button value="إلغاء" dismiss="modal" />
    <b:button value="تم" look="primary" dismiss="modal" />
  </f:facet>
</b:modal>
</b:form>

<div class="container">
<f:metadata>
    <f:viewParam name="UserId" value="#{sysUserBean.userid}" />
</f:metadata>

<div class="box">


<b:form horizontal="true" >

         <b:commandButton value="" icon="glyphicon glyphicon-arrow-right" ajax="true" 
         update="@(.contant)" look=""
         onclick="#{pageNavigation.navigate('/pages/showUsers.xhtml')}" >
         </b:commandButton>
         
         <br/><br/>
         
         

   <b:panelGrid colSpans="3,9" >	

       <h2>اسم المستخدم</h2>
      
 <b:form horizontal="true">

      <b:button value="إضافة دور" icon="glyphicon glyphicon-plus"  
      onclick="$('.responsiveModalPseudoClass').modal();" look="success"
      style="margin-left:7px;"/>
      
      <b:commandButton value="إعادة تحميل" icon="glyphicon glyphicon-refresh" ajax="true" 
      update="@(.content)" onclick="#{pageNavigation.navigate('/pages/addUserRole.xhtml')}"
      look="info" style="margin-left:7px;"/>
      
      <b:commandButton value="حذف جميع الأدوار" icon-awesome="fa-trash-o" ajax="true" 
       action="#{sysRoleBean.deleteAllRolesforUser(sysUserBean.userid)}" 
      look="danger" update="@(.content)"/>
      
   <h1/>
      
<b:dataTable value="#{sysUserBean.ShowRoleForUser(sysUserBean.userid)}" var="role" 
class="rolesTable">
    <b:dataTableColumn value="#{role.arabicName} /#{role.englishName}" label="الاسم"/>
    <b:dataTableColumn value="#{role.description}" label="الوصف"/>
    <b:dataTableColumn label="حذف الدور">
      <b:commandButton value="" icon-awesome="fa-trash-o" ajax="true" 
       action="#{sysRoleBean.deletUserRole(role,sysUserBean.userid)}" 
      look="danger" update="@(.content)"/>
    </b:dataTableColumn>
  </b:dataTable> 
   </b:form>

</b:panelGrid>

</b:form>
      

</div>

</div>

</ui:composition>
